# Kerberos configuration for {{ ad_integration.domain }}
# Generated by Ansible - silverblue_ad_integration role

[libdefaults]
    default_realm = {{ ad_integration.realm }}
    dns_lookup_realm = true
    dns_lookup_kdc = true
    ticket_lifetime = {{ ad_integration.kerberos.ticket_lifetime }}
    renew_lifetime = {{ ad_integration.kerberos.renew_lifetime }}
    forwardable = {{ ad_integration.kerberos.forwardable | lower }}
    rdns = false
    default_ccache_name = KEYRING:persistent:%{uid}

[realms]
    {{ ad_integration.realm }} = {
{% for dc in ad_integration.domain_controllers %}
        kdc = {{ dc }}
        admin_server = {{ dc }}
{% endfor %}
        default_domain = {{ ad_integration.domain }}
    }

[domain_realm]
    .{{ ad_integration.domain }} = {{ ad_integration.realm }}
    {{ ad_integration.domain }} = {{ ad_integration.realm }}

[logging]
    default = FILE:/var/log/krb5libs.log
    kdc = FILE:/var/log/krb5kdc.log
    admin_server = FILE:/var/log/kadmind.log
