# /etc/chrony/chrony.conf - Generated by Ansible for Samba AD DC

# Public NTP servers
pool 0.ubuntu.pool.ntp.org iburst
pool 1.ubuntu.pool.ntp.org iburst
pool 2.ubuntu.pool.ntp.org iburst

# Additional time sources
pool time.google.com iburst
pool time.cloudflare.com iburst

# Record the rate at which the system clock gains/losses time
driftfile /var/lib/chrony/drift

# Allow the system clock to be stepped in the first three updates
makestep 1.0 3

# Enable kernel synchronization of the real-time clock (RTC)
rtcsync

# Allow NTP client access from local network (for domain clients)
allow {{ ad_network_subnet | default('192.168.0.0/16') }}

# Serve time even if not synchronized to a time source
local stratum 10

# Log directory
logdir /var/log/chrony

# Select which information is logged
log measurements statistics tracking
