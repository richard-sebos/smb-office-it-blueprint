---
################################################################################
# Host Variables: ansible-ctrl
# VM ID: 310
# Role: Ansible Control Server
################################################################################

# VM Identity
vmid: 310
hostname: ansible-ctrl
fqdn: ansible-ctrl.corp.sebostech.local

# Network Configuration
network:
  interface: ens18
  ip_address: 192.168.35.220  # Simplified subnet for testing
  netmask: 24
  gateway: 192.168.35.1
  vlan: 1  # Default VLAN for now
  dns_servers:
    - 8.8.8.8
    - 192.168.35.210  # dc01
    - 192.168.35.211  # dc02
  search_domain: corp.sebostech.local

  # Temporary management interface for initial configuration
  mgmt_interface: ens19
  mgmt_ip: 192.168.35.221  # Management IP
  mgmt_user: ansible-admin  # User account for initial connection
  mgmt_remove_after_config: false  # Keep for testing

# OS Configuration
os_type: rocky  # ubuntu or rocky
os_version: "9"
template_id: 9200  # Rocky Linux 9 template

# System Resources
resources:
  cores: 2
  memory: 4096
  disk_size: 100G

# Proxmox Settings
proxmox:
  node: pve
  storage: vmDrive
  pool: production
  tags:
    - server
    - ansible
    - automation
    - rocky
    - vlan-120

# Software Packages
packages:
  base:
    - vim
    - git
    - curl
    - wget
    - net-tools
    - htop
    - tmux
    - tree

  network_tools:
    - tcpdump
    - nmap
    - nmap-ncat  # nc for Rocky
    - net-tools  # netstat

  admin_tools:
    - ansible
    - ansible-core
    - python3-pip
    - sshpass

  development:
    - gcc
    - make
    - python3-devel

# User Configuration
admin_user:
  username: richard
  groups:
    - wheel  # Rocky Linux sudo group
    - adm
  shell: /bin/bash
  ssh_public_key_path: ~/.ssh/id_ed25519.pub  # Path to public key on control machine

# Services
services:
  enabled:
    - sshd
  disabled:
    - bluetooth

# SSH Hardening Configuration
ssh_hardening:
  # Optional: Define allowed networks for SSH access
  # If not defined, access is allowed from all networks (rely on firewall)
  allowed_networks:
    - cidr: 10.0.0.0/8
      description: Internal private network
    - cidr: 192.168.0.0/16
      description: Private network range
