---
################################################################################
# Playbook: Deploy and Configure ws-reception01 (Combined)
# Purpose: Run both deployment and configuration in sequence
# Usage: ansible-playbook playbooks/deploy-and-configure-ws-reception01.yml
#
# This is a convenience wrapper that runs both playbooks in order:
#   1. deploy-ws-reception01.yml - Clone VM
#   2. configure-ws-reception01.yml - Build/configure system
#
# For more control, run the individual playbooks separately:
#   ansible-playbook playbooks/deploy-ws-reception01.yml
#   ansible-playbook playbooks/configure-ws-reception01.yml
################################################################################

- name: Import VM Deployment Playbook
  import_playbook: deploy-ws-reception01.yml

- name: Wait for VM to boot
  hosts: pve
  gather_facts: no
  tasks:
    - name: Wait 60 seconds for VM to fully boot
      pause:
        seconds: 60
        prompt: "Waiting for VM to boot before configuration..."

- name: Import Configuration Playbook
  import_playbook: configure-ws-reception01.yml
